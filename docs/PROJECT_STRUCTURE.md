# ğŸ“ Project Structure

## Overview

This document explains the structure of the Multi-Language Lorem Ipsum Pro extension.

---

## ğŸ—‚ï¸ Root Directory

```
multi-language-lorem-with-categories/
â”œâ”€â”€ ğŸ“„ README.md                    Main documentation
â”œâ”€â”€ ğŸ“„ CHANGELOG.md                 Version history
â”œâ”€â”€ ğŸ“„ LICENSE                      MIT License
â”œâ”€â”€ ğŸ“„ package.json                 Extension manifest
â”œâ”€â”€ ğŸ“„ tsconfig.json                TypeScript configuration
â”œâ”€â”€ ğŸ–¼ï¸ logo.png                     Extension icon
â”œâ”€â”€ ğŸ“ src/                         Source code
â”œâ”€â”€ ğŸ“ out/                         Compiled JavaScript
â”œâ”€â”€ ğŸ“ docs/                        Documentation files
â”œâ”€â”€ ğŸ“ node_modules/                Dependencies
â”œâ”€â”€ ğŸ“ .vscode/                     VS Code settings
â””â”€â”€ ğŸ“ .github/                     GitHub configuration
```

---

## ğŸ“‚ Source Code (`src/`)

### Main Files

```
src/
â”œâ”€â”€ extension.ts              Main extension entry point
â”œâ”€â”€ types.ts                  TypeScript type definitions
â”œâ”€â”€ historyManager.ts         History tracking system
â”œâ”€â”€ templateManager.ts        Template management system
â”œâ”€â”€ sidebarProvider.ts        Sidebar panel UI
â””â”€â”€ lorem-data/               Language data modules
    â”œâ”€â”€ english.ts            ğŸ‡¬ğŸ‡§ English texts
    â”œâ”€â”€ persian.ts            ğŸ‡®ğŸ‡· Persian texts (ÙØ§Ø±Ø³ÛŒ)
    â”œâ”€â”€ arabic.ts             ğŸ‡¸ğŸ‡¦ Arabic texts (Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©)
    â”œâ”€â”€ chinese.ts            ğŸ‡¨ğŸ‡³ Chinese texts (ä¸­æ–‡)
    â”œâ”€â”€ japanese.ts           ğŸ‡¯ğŸ‡µ Japanese texts (æ—¥æœ¬èª)
    â”œâ”€â”€ russian.ts            ğŸ‡·ğŸ‡º Russian texts (Ğ ÑƒÑÑĞºĞ¸Ğ¹)
    â”œâ”€â”€ spanish.ts            ğŸ‡ªğŸ‡¸ Spanish texts (EspaÃ±ol)
    â”œâ”€â”€ french.ts             ğŸ‡«ğŸ‡· French texts (FranÃ§ais)
    â”œâ”€â”€ german.ts             ğŸ‡©ğŸ‡ª German texts (Deutsch)
    â”œâ”€â”€ italian.ts            ğŸ‡®ğŸ‡¹ Italian texts (Italiano)
    â”œâ”€â”€ portuguese.ts         ğŸ‡µğŸ‡¹ Portuguese texts (PortuguÃªs)
    â”œâ”€â”€ korean.ts             ğŸ‡°ğŸ‡· Korean texts (í•œêµ­ì–´)
    â”œâ”€â”€ hindi.ts              ğŸ‡®ğŸ‡³ Hindi texts (à¤¹à¤¿à¤¨à¥à¤¦à¥€)
    â”œâ”€â”€ turkish.ts            ğŸ‡¹ğŸ‡· Turkish texts (TÃ¼rkÃ§e)
    â”œâ”€â”€ dutch.ts              ğŸ‡³ğŸ‡± Dutch texts (Nederlands)
    â”œâ”€â”€ swedish.ts            ğŸ‡¸ğŸ‡ª Swedish texts (Svenska)
    â””â”€â”€ norwegian.ts          ğŸ‡³ğŸ‡´ Norwegian texts (Norsk)
```

### File Descriptions

#### `extension.ts` (~660 lines)

- Extension activation and deactivation
- Command registration (25 commands)
- Lorem generation logic
- Multi-cursor support
- Text statistics calculation

#### `types.ts` (~90 lines)

- TypeScript interfaces and types
- LanguageKey, CategoryKey, LengthKey
- LoremHistoryItem, CustomTemplate
- Category and Length interfaces

#### `historyManager.ts` (~80 lines)

- Manages generation history (last 50 items)
- Persistent storage using VS Code globalState
- Statistics calculation
- CRUD operations for history items

#### `templateManager.ts` (~60 lines)

- Manages custom templates
- Persistent storage using VS Code globalState
- CRUD operations for templates

#### `sidebarProvider.ts` (~280 lines)

- Webview-based sidebar panel
- HTML/CSS/JavaScript for UI
- Message handling between webview and extension
- Real-time updates and interactions

---

## ğŸ“š Documentation (`docs/`)

```
docs/
â”œâ”€â”€ README.md                          Documentation index
â”œâ”€â”€ ARRAY_STRUCTURE_GUIDE.md          How to add languages
â”œâ”€â”€ HOW_TO_PUBLISH.md                 Publishing guide
â”œâ”€â”€ VERSION_2.0.0_RELEASE.md          v2.0.0 release notes
â”œâ”€â”€ FARSI_UPDATE_SUMMARY.md           Ø®Ù„Ø§ØµÙ‡ Ø¨Ù‡ ÙØ§Ø±Ø³ÛŒ
â””â”€â”€ archive/                           Old documentation
    â”œâ”€â”€ README.backup.md
    â”œâ”€â”€ README_PROFESSIONAL.md
    â”œâ”€â”€ VERSION_1.1.0_SUMMARY.md
    â”œâ”€â”€ PUBLISH_READY.md
    â””â”€â”€ test-lorem.md
```

---

## ğŸ”§ Configuration Files

### `package.json`

Extension manifest with:

- Metadata (name, version, publisher)
- Commands (25 total)
- Configuration settings (4 settings)
- Keybindings (2 shortcuts)
- Sidebar panel contribution
- Context menu contributions
- Dependencies

### `tsconfig.json`

TypeScript compiler configuration:

- Target: ES2020
- Module: CommonJS
- Source maps enabled
- Strict type checking

### `.vscodeignore`

Files to exclude from packaged VSIX:

- Source code (TypeScript)
- Development files
- Archive documentation
- Git files

---

## ğŸ“¦ Build Output (`out/`)

Compiled JavaScript files (generated by `npm run compile`):

```
out/
â”œâ”€â”€ extension.js
â”œâ”€â”€ types.js
â”œâ”€â”€ historyManager.js
â”œâ”€â”€ templateManager.js
â”œâ”€â”€ sidebarProvider.js
â””â”€â”€ lorem-data/
    â””â”€â”€ [language].js files
```

---

## ğŸ¨ Language Data Structure

Each language file exports an object with this structure:

```typescript
export const [language]Lorem = {
  tourism: {
    short: ["text1", "text2", "text3"],
    medium: ["text1", "text2", "text3"],
    long: ["text1", "text2", "text3"]
  },
  medical: { ... },
  technology: { ... },
  business: { ... },
  education: { ... },
  food: { ... },
  sports: { ... },
  finance: { ... },
  environment: { ... },
  entertainment: { ... }
};
```

**Structure:**

- 10 categories per language
- 3 lengths per category (short, medium, long)
- 3-5 variations per length
- Total: ~150 unique texts per language

---

## ğŸ”„ Data Flow

### Generation Flow

```
User Command
    â†“
extension.ts â†’ generateLorem()
    â†“
Select language/category/length
    â†“
Get text from lorem-data/[language].ts
    â†“
Insert at cursor(s)
    â†“
Save to historyManager
    â†“
Update sidebarProvider
    â†“
Show statistics
```

### History Flow

```
Generation Complete
    â†“
historyManager.addItem()
    â†“
Save to globalState (persistent)
    â†“
sidebarProvider.refresh()
    â†“
Update webview HTML
```

### Template Flow

```
User clicks "Save as Template"
    â†“
templateManager.addTemplate()
    â†“
Save to globalState (persistent)
    â†“
sidebarProvider.refresh()
    â†“
Template available in sidebar
```

---

## ğŸ¯ Key Features Implementation

### 1. Sidebar Panel

- **File**: `sidebarProvider.ts`
- **Type**: Webview View Provider
- **Sections**: Statistics, Templates, History
- **Update**: Manual refresh via `sidebarProvider.refresh()`

### 2. History Tracking

- **File**: `historyManager.ts`
- **Storage**: VS Code globalState
- **Capacity**: 50 items (FIFO)
- **Persistence**: Survives VS Code restarts

### 3. Custom Templates

- **File**: `templateManager.ts`
- **Storage**: VS Code globalState
- **Operations**: Create, Read, Update, Delete
- **Persistence**: Survives VS Code restarts

### 4. Multi-Cursor Support

- **File**: `extension.ts` â†’ `insertTextAtCursor()`
- **Method**: Iterate through `editor.selections`
- **Behavior**: Insert same text at all cursor positions

### 5. Text Statistics

- **File**: `extension.ts` â†’ `getTextStats()`
- **Calculates**: Words, characters, lines
- **Display**: In notification after generation

---

## ğŸ“Š Code Statistics

| Metric              | Count  |
| ------------------- | ------ |
| Total Lines of Code | ~1,200 |
| TypeScript Files    | 22     |
| Commands            | 25     |
| Languages           | 17     |
| Categories          | 10     |
| Text Variations     | 1,500+ |

---

## ğŸš€ Development Workflow

### Setup

```bash
npm install           # Install dependencies
npm run compile       # Compile TypeScript
```

### Development

```bash
npm run watch         # Auto-compile on changes
# Press F5 in VS Code to launch Extension Development Host
```

### Testing

```bash
npm run compile       # Compile
npm run lint          # Check for errors
# Press F5 to test
```

### Building

```bash
npm run compile       # Compile production build
npx vsce package      # Create VSIX package
```

---

## ğŸ“ Adding New Features

### Add a Language

1. Create `src/lorem-data/newlang.ts`
2. Export object with 10 categories
3. Import in `extension.ts`
4. Add to `loremData` object
5. Add command in `package.json`
6. Register command in `activate()`

### Add a Category

1. Update all language files
2. Add to `CategoryKey` type in `types.ts`
3. Add to `categories` array in `extension.ts`
4. Update configuration in `package.json`

### Add a Command

1. Register in `package.json` â†’ `contributes.commands`
2. Implement in `extension.ts` â†’ `activate()`
3. Add to context subscriptions
4. Document in README

---

## ğŸ” Storage

### Persistent Data (globalState)

- **History**: `loremHistory` key
- **Templates**: `loremTemplates` key
- **Location**: VS Code's globalState (user data directory)
- **Size**: ~1-2MB total

### Temporary Data (RAM)

- Language data objects
- Current editor state
- Webview state

---

## ğŸ¨ UI Components

### Activity Bar Icon

- Registered in `package.json` â†’ `viewsContainers`
- ID: `loremSidebar`

### Sidebar Panel

- Registered in `package.json` â†’ `views`
- Provider: `LoremSidebarProvider`
- Type: Webview

### Context Menu

- Registered in `package.json` â†’ `menus.editor/context`
- Submenu: `lorem.submenu`

---

## ğŸ“ˆ Performance Considerations

### Optimization

- âœ… Lazy loading of language data
- âœ… Efficient text selection (random index)
- âœ… Minimal DOM updates in webview
- âœ… History size limit (50 items)

### Memory Usage

- Base: ~5MB
- History: +1MB
- Templates: +50KB
- Total: ~6MB (very light)

---

## ğŸ”„ Version Control

### Branches

- `main` - Production-ready code
- Feature branches for development

### Versioning

- Follows Semantic Versioning (SemVer)
- Current: 2.0.0

---

Made with ğŸ’™ for developers worldwide
